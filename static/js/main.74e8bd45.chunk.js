(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},16:function(e,t,n){var l,r=n(8);function a(e,t){t==l&&(t=null);var n=o(e);if(null==n.answer)return-1;if(null!=t&&0==function(e,t){for(var n=0;n<81;n++)if(e[n]!=t[n])return!1;return!0}(t,n.answer))return-1;var r=n.state.length;return null!=i(n.state).answer?-1:r}function u(e){return o(e).answer}function o(e){var t=[].concat(e),n=s(t);return null==n?{state:[],answer:t}:i([{guesses:n,count:0,board:t}])}function i(e){for(;e.length>0;){var t=e.pop();if(!(t.count>=t.guesses.length)){e.push({guesses:t.guesses,count:t.count+1,board:t.board});var n=[].concat(t.board),l=t.guesses[t.count];n[l.pos]=l.num;var r=s(n);if(null==r)return{state:e,answer:n};e.push({guesses:r,count:0,board:n})}}return{state:[],answer:null}}function s(e){for(;;){for(var t=!0,n=null,l=0,a=c(e),u=a.allowed,o=a.needed,i=0;i<81;i++)if(null==e[i]){if(0==(k=f(u[i])).length)return[];if(1==k.length)e[i]=k[0],t=!1;else if(1==t){var s=v(n,l,r.map(k,function(e,t){return{pos:i,num:e}}));n=s.guess,l=s.count}}if(0==t){var d=c(e);u=d.allowed,o=d.needed}for(var p=0;p<3;p++)for(var g=0;g<9;g++)for(var k=f(o[9*p+g]),z=0;z<k.length;z++){for(var y=k[z],b=1<<y,x=[],w=0;w<9;w++){u[i=h(g,w,p)]&b&&x.push(i)}if(0==x.length)return[];if(1==x.length)e[x[0]]=y,t=!1;else if(t){var C=v(n,l,r.map(x,function(e,t){return{pos:e,num:y}}));n=C.guess,l=C.count}}if(1==t)return null!=n&&m(n),n}}function c(e){for(var t=[],n=r.map(e,function(e,t){return null==e?511:0},[]),l=0;l<3;l++)for(var a=0;a<9;a++){var u=d(e,a,l);t.push(u);for(var o=0;o<9;o++){var i=h(a,o,l);n[i]=n[i]&u}}return{allowed:n,needed:t}}function h(e,t,n){return n==l&&(n=0),0==n?9*e+t:1==n?9*t+e:[0,3,6,27,30,33,54,57,60][e]+[0,1,2,9,10,11,18,19,20][t]}function d(e,t,n){for(var l=0,r=0;r<9;r++){var a=e[h(t,r,n)];null!=a&&(l|=1<<a)}return 511^l}function f(e){for(var t=[],n=0;n<9;n++)0!=(e&1<<n)&&t.push(n);return t}function v(e,t,n){return null==e||n.length<e.length?{guess:n,count:1}:n.length>e.length?{guess:e,count:t}:0==(l=t,Math.floor(Math.random()*(l+1)))?{guess:n,count:t+1}:{guess:e,count:t+1};var l}function p(e){for(var t=r.map(r.range(81),function(e,t){return null}),n=0;n<e.length;n++){var l=e[n],a=l.pos,u=l.num;t[a]=u}return t}function m(e){for(var t=0;t<e.length;t++){for(var n=t;n==t;)n=Math.floor(Math.random()*e.length);var l=e[t];e[t]=e[n],e[n]=l}}function g(e,t,n){var l=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,l)}function k(e,t){return r.map(r.range(e),function(e,n){return t})}e.exports={makepuzzle:function(){return function(e){var t=[],n=k(81,null),l=r.range(81);m(l);for(var u=0;u<l.length;u++){var o=l[u];null==n[o]&&(t.push({pos:o,num:e[o]}),n[o]=e[o],s(n))}for(m(t),u=t.length-1;u>=0;u--){var i=t[u];g(t,u),-1==a(p(t),e)&&t.push(i)}return p(t)}(u(k(81,null)))},solvepuzzle:u,ratepuzzle:function(e,t){for(var n=0,l=0;l<t;l++){var r=o(e);if(null==r.answer)return-1;n+=r.state.length}return n/t},posfor:h,figurebits:c}},18:function(e,t,n){"use strict";n.r(t);var l=n(0),r=n.n(l),a=n(9),u=n.n(a),o=(n(15),n(1)),i=n(2),s=n(4),c=n(3),h=n(5);var d=function(e){var t,n,l=e.invalidIndex===e.cellIndex?"red":"white";return t=e.solved?e.highlightNumber===e.value?"cell solved highlighted":"cell solved":"cell empty",n=e.clickedIndex===e.cellIndex?r.a.createElement("input",{readOnly:!0,autoFocus:!0,type:"text",value:e.value,style:{backgroundColor:l}}):e.value,r.a.createElement("div",{className:t,onClick:e.onClick,onKeyDown:e.onKeyDown},n)},f=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=[1,2,3,4,5,6,7,8,9];return t.map(function(n,l){return r.a.createElement("div",{key:n,className:"row",id:"row"+n},t.map(function(t,n){var a=9*l+n;return r.a.createElement(d,{key:a,cellIndex:a,clickedIndex:e.props.clickedIndex,solved:null!==e.props.puzzle[a],invalidIndex:e.props.invalidIndex,highlightNumber:e.props.highlightNumber,value:null===e.props.nextPuzzle[a]?"":e.props.nextPuzzle[a]+1,onClick:function(){e.props.onClick(a)},onKeyDown:function(t){e.props.onKeyDown(t,a)}})}))})}}]),t}(l.Component);var v=function(e){return r.a.createElement("div",{className:"cell",onClick:e.onClick},e.value)},p=n(16),m=n(8),g=function(e){function t(e){var n;Object(o.a)(this,t),n=Object(s.a)(this,Object(c.a)(t).call(this,e));var l=p.makepuzzle();return n.state={history:[{puzzle:l,location:Array(2).fill(null),invalidIndex:null}],solvePuzzle:p.solvepuzzle(l),clickedIndex:null,highlightNumber:null,stepNumber:0},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleBoardClick",value:function(e){if(null===this.state.history[this.state.stepNumber].invalidIndex&&!m.isEqual(this.state.history[this.state.stepNumber].puzzle,this.state.solvePuzzle)){var t=this.state.history[0].puzzle;null!==t[e]?this.setState({highlightNumber:t[e]+1,clickedIndex:null}):this.setState({highlightNumber:null,clickedIndex:e})}}},{key:"handleLegendClick",value:function(e){this.setState({highlightNumber:e,clickedIndex:null})}},{key:"handleKeyDown",value:function(e,t){var n=this.state.history.slice(0,this.state.stepNumber+1),l=n[n.length-1],r=l.puzzle.slice(),a=l.location.slice();if(8==e.keyCode||46==e.keyCode)r[t]=null,a=[Math.floor(t/9)+1,t%9+1],l.puzzle=r,l.location=a,l.invalidIndex=null,this.setState({history:n});else if(13==e.keyCode||27==e.keyCode)this.setState({clickedIndex:null});else if(e.keyCode>=49&&e.keyCode<=57){var u=e.keyCode-48;r[t]=u-1,a=[Math.floor(t/9)+1,t%9+1];var o=this.validateCell(t,r[t])?null:t;m.isEqual(l.location,a)?(l.puzzle=r,l.invalidIndex=o,this.setState({history:n})):this.setState({history:n.concat([{puzzle:r,location:a,invalidIndex:o}]),stepNumber:n.length}),m.isEqual(r,this.state.solvePuzzle)&&alert("Congratulation! It was solved.")}}},{key:"validateCell",value:function(e,t){if(null===t)return!0;for(var n=Math.floor(e/9),l=e%9,r=Math.floor(n/3),a=Math.floor(l/3),u=[],o=[],i=[],s=this.state.history.slice(0,this.state.stepNumber+1),c=s[s.length-1].puzzle.slice(),h=0;h<9;h++)i.push(c[9*n+h]),o.push(c[9*h+l]);for(var d=3*r;d<3*(r+1);d++)for(var f=3*a;f<3*(a+1);f++)u.push(c[9*d+f]);return m.indexOf(m.union(u,o,i),t)<0}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e})}},{key:"render",value:function(){var e=this,t=this.state.history,n=t[this.state.stepNumber],l=t.map(function(t,n){var l=n?"Go to move #"+n+" location: ("+t.location[0]+", "+t.location[1]+")":"Go to game start";return r.a.createElement("li",{key:n},r.a.createElement("button",{style:{fontWeight:e.state.stepNumber===n?"bold":"normal"},onClick:function(){return e.jumpTo(n)}},l))});return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"board"},r.a.createElement(f,{puzzle:t[0].puzzle,nextPuzzle:n.puzzle,clickedIndex:this.state.clickedIndex,invalidIndex:n.invalidIndex,highlightNumber:this.state.highlightNumber,onClick:function(t){e.handleBoardClick(t)},onKeyDown:function(t,n){e.handleKeyDown(t,n)}})),r.a.createElement("div",{className:"legend"},r.a.createElement("div",{className:"row"},[1,2,3,4,5,6,7,8,9].map(function(t,n){return r.a.createElement(v,{key:n,value:t,onClick:function(){e.handleLegendClick(t)}})}))),r.a.createElement("div",{className:"game-info"},r.a.createElement("ol",null,l)))}}]),t}(l.Component);u.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.74e8bd45.chunk.js.map